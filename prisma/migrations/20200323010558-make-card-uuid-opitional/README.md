# Migration `20200323010558-make-card-uuid-opitional`

This migration has been generated by KennHuang at 3/23/2020, 1:05:58 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
PRAGMA foreign_keys=OFF;

CREATE TABLE "quaint"."new_User" (
    "cardUUID" TEXT   ,
    "name" TEXT NOT NULL DEFAULT '' ,
    "studentNumber" TEXT NOT NULL  ,
    PRIMARY KEY ("studentNumber")
) 

INSERT INTO "quaint"."new_User" ("cardUUID", "name", "studentNumber") SELECT "cardUUID", "name", "studentNumber" FROM "quaint"."User"

DROP TABLE "quaint"."User";

ALTER TABLE "quaint"."new_User" RENAME TO "User";

PRAGMA "quaint".foreign_key_check;

PRAGMA foreign_keys=ON;
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200323005007-add-autoincrement..20200323010558-make-card-uuid-opitional
--- datamodel.dml
+++ datamodel.dml
@@ -1,6 +1,6 @@
 datasource sqlite {
-  url = "***"
+  url      = "file:data.db"
   provider = "sqlite"
 }
 generator client {
@@ -8,9 +8,9 @@
 }
 model User {
   studentNumber String       @id
-  cardUUID      String
+  cardUUID      String?
   name          String
   checkinLogs   CheckinLog[]
 }
```


